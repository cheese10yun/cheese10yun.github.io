
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google-site-verification" content="sBAfGubPxv1ol5QEVGgOJ4ggp5spK-zFFXpK-Pd2xZM" />
    <meta name="naver-site-verification" content="a37ea649edf26e70c3de94f9cb034f9d6e11de3f" />
    <meta name="generator" content="Yun Blog">
    <title>Spring OOP 프로그래밍 예제(6) - 캡슐화 내가 생각하는 캡슐화란(1) - Yun Blog</title>
    <meta name="author" content="Yun">
    
        <meta name="keywords" content="Node,Spring,Spring Boot,Spring Batch,Kotlin,기술 블로그,JPA,Mongo,MySQL,OOP,">
    
    
    
        
            <link rel="alternate" type="application/rss+xml" title="RSS" href="/rss2.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg"},"articleBody":"해당 코드는 Github에 공개되어 있습니다.\n객체지향 개념에서 캡슐화는 정말 중요한 개념이라고 생각합니다. 캡슐화를 잘 지켜야 클래스 간의 결합도를 낮추어 코드를 유지 보수하기 쉽게 합니다.\n이미 수많은 책이 이 개념에 관해서 설명하고 있습니다. 글을 읽을 때는 이해되지만 정작 캡슐화 좋은 코드를 작성하는 것은 또 다른 영역입니다.\n저와 같은 주니어분들이 조금이라도 이해를 돕기 위해 제가 생각하는 캡슐화에 대해서 실무에서 많이 사용하는 Spring Boot, JPA 기반에서 설명해볼까 합니다.\n캡슐화의 정의#\n캡슐화는 정보은닉을 통해 높은 응집도와 낮은 결합도를 갖도록 한다. 정보 은닉이란 말 그대로 알 필요가 없는 정보는 외부에서 접근하지 못하도록 제한하는 것이다.\n\n여기서 중요한 키워드는 높은 응집도, 낮은 결합도, 정보 은닉 입니다. 핵심 키워들 기반으로 설명을 진행하겠습니다.\n요구사항#\n주문을 신청할 때 배송 출발시 받을 메시지 플랫폼을 N개 선택 할 수 있다.\n메시지 플랫폼은 KAKAO, SMS, EMAIL 등이 있다.\n메시지 플랫폼은 지속적으로 추가 될 수 있다.\n\n캡슐화가 안좋은 안티 패턴#123456789101112131415161718@Entity@Table(name = &quot;product&quot;)@NoArgsConstructor(access = AccessLevel.PROTECTED)@Getterpublic class Order &#123;    @Id    @GeneratedValue(strategy = GenerationType.IDENTITY)    private long id;    @Column(name = &quot;anti_message_types&quot;)    private String messageTypes;    @Builder    public Order(String messageTypes) &#123;        this.messageTypes = messageTypes;    &#125;&#125;\n\nOrder 엔티티 객체가 있습니다. \nOrder 엔티티는 주문을 완료시 메시지 플랫폼을 받을 수 있는 메시지 타입을 저장할 messageTypes 멤버 필드를 갖습니다.\n데이터베이스 정규화는 생략했습니다. 저런 타입일 경우 정규화의 대상이 된다고 생각하지 않습니다. 이 부분은 크게 생각 안하시고 순수하게 캡슐화의 관점에서 설명드리겠습니다.\n\n\n복수개의 문자열이 들어 오기 때문에 &quot;,&quot; 기반으로 문자열을 split 합니다.\n\n테스트 코드#12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364public class OrderUnitTest &#123;    @Test    // (1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다    // 안좋은 캡슐화    public void anti_message_test_01() &#123;        final Order order = build(&quot;KAKAO,EMAIL,SMS&quot;);        final String[] split = order.getMessageTypes().split(&quot;,&quot;);        assertThat(split, hasItemInArray(&quot;KAKAO&quot;));        assertThat(split, hasItemInArray(&quot;EMAIL&quot;));        assertThat(split, hasItemInArray(&quot;SMS&quot;));    &#125;    @Test    // (2) KAKAO를 KAOKO 라고 잘못 입력했을 경우    public void anti_message_test_02() &#123;        final Order order = build(&quot;KAOKO,EMAIL,SMS&quot;);        final String[] split = order.getMessageTypes().split(&quot;,&quot;);        assertThat(split, not(hasItemInArray(&quot;KAKAO&quot;)));        assertThat(split, hasItemInArray(&quot;EMAIL&quot;));        assertThat(split, hasItemInArray(&quot;SMS&quot;));    &#125;    @Test    // (3) 메시지에 KAKAO, EMAIL, SMS 처럼 공백이 들어 간다면 실패한다    public void anti_message_test_03() &#123;        final Order order = build(&quot;KAKAO, EMAIL, SMS&quot;);        final String[] split = order.getMessageTypes().split(&quot;,&quot;);        assertThat(split, hasItemInArray(&quot;KAKAO&quot;));        assertThat(split, not(hasItemInArray(&quot;EMAIL&quot;)));        assertThat(split, not(hasItemInArray(&quot;SMS&quot;)));    &#125;    @Test    // (4) 메시지가 없을 때 빈문자열(&quot;&quot;)을 보낼 경우    public void anti_message_test_04() &#123;        final Order order = build(&quot;&quot;);        final String[] split = order.getMessageTypes().split(&quot;,&quot;);        assertThat(split, hasItemInArray(&quot;&quot;));    &#125;    @Test(expected = NullPointerException.class)    // (5) 메시지가 없을 때 null 을 보낼 경우    public void anti_message_test_05() &#123;        final Order order = build(null);        order.getMessageTypes().split(&quot;,&quot;);    &#125;    @Test    // (6) 메시지가 중복으로 올경우    public void anti_message_test_06() &#123;        final Order order = build(&quot;KAKAO, KAKAO, KAKAO&quot;);        final String[] split = order.getMessageTypes().split(&quot;,&quot;);        assertThat(split, hasItemInArray(&quot;KAKAO&quot;));        assertThat(split.length, is(3));    &#125;&#125;\n\n(1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다#가장 쉽게 생각할 수 있는 방법입니다. 단순히 getter 메서드를 이용해서 외부 객체가 사용하게 제공합니다. 이는 캡슐화에 엄청난 악영향을 미치게 됩니다.\n우선 getMessageTypes() 메서드를 사용 하는 모든 곳에서 split() 메서드를 이용해서 메시지 타입을 배열로 만들어서 사용해야합니다.\n(2) KAKAO를 KAOKO 라고 잘못 입력했을 경우#단순하게 String을 사용하기 때문에 type safe 하지 않습니다. KAKAO를 KAOKO로 잘못 입력해도 제대로 검증하기 어려우며 검증하는 로직을 추가 하더라도 해당 에러는 Runtime으로 넘어가게 됩니다. 이처럼 단순 문자열이면 이러한 단점을 갖게 됩니다.\n(3) 메시지에 KAKAO, EMAIL, SMS 처럼 공백이 들어 간다면 실패한다#일반적으로 웹 개발을 하면 대부분의 요청은 컨트롤러에서 받게 됩니다. 이 때 KAKAO, EMAIL, SMS 문자열 사이에 빈 공백이 들어오게 되면 split() 함수가 제대로 동작하지 않습니다. 테스트 코드를 보면 EMAIL, SMS는 not(hasItemInArray..) 으로 검증됩니다. \n물론 앞뒤 공백을 자르는 로직이 추가되면 되지만 이렇게 되면 점점 로직의 복잡도가 높아지게 됩니다.\n(4) 메시지가 없을 때 빈문자열(“”)을 보낼 경우#컨트롤러 요청을 받을 때 받을 메시지 플랫폼이 없다면 &quot;&quot; 으로 받게 됩니다. 이 빈 공백 이라는 것이 의미하는 게 어떤 메시지 플랫폼도 선택하지 않았다는 의미로 해석되기는 어렵습니다. 문자열 자체는 이러한 타입에 적합하지 않기 때문에 메시지가 없을 때 어떤 식으로 처리해야 할지 고민하게 됩니다.\n(5) 메시지가 없을 때 null 을 보낼 경우#빈 공백의 의미가 정확하지 않다고 생각했을 경우 null로 요청을 받게 되면 split() 메서드에서 RuntimeException이 발생하게 됩니다. 물론 로직을 추가해서 null인 경우를 처리할 수 있지만, 이것은 3번에서 언급했던 것처럼 계속 코드의 복잡성이 높아지게 됩니다.\n(6) 메시지가 중복으로 올경우#메시지 플랫폼이 중복으로 넘어오게 될 실제 메시지가 중복으로 발송되기 때문에 로직을 추가 해야 됩니다.\n테스트 코드의 중요성#캡슐화에서 벗어난 주제이기 때문에 테스트 코드에 대한 부가적인 설명해 드리는 것이 조금은 어색하지만, 테스트 코드의 중요성을 한번 언급하고 싶었습니다.\n\n문제 있는 코드를 빨리 파악할 수 있다.\n\n해당 기능의 테스트 코드를 작성하면 이 코드의 문제점을 가장 빠르게 파악할 수 있습니다. 저는 코드가 왜 캡슐화에 안 좋은 코드인지 테스트 코드를 통해서 알게 됐습니다. 위에서 언급한 1~5 문제들을 테스트 코드 작성 시 파악했고 리팩토링 작업을 진행했습니다.\n테스트 코드는 냄세나는 코드를 빠르게 찾게 해줍니다. 이것도 테스트 코드의 엄청난 장점이라고 생각합니다.\n좋은 캡슐화 패턴#1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class Order &#123;    ...    @Embedded    private Message message;&#125;@Embeddable@NoArgsConstructor(access = AccessLevel.PROTECTED)public class Message &#123;    @Column(name = &quot;message_type&quot;)    private String type;    private Message(String type) &#123;        this.type = StringUtils.isEmpty(type) ? null : type;    &#125;    public static Message of(Set&lt;MessageType&gt; types) &#123;        return new Message(joining(types));    &#125;    public List&lt;MessageType&gt; getTypes() &#123;        if (StringUtils.isEmpty(type)) &#123;            return new ArrayList&lt;&gt;();        &#125;        return new ArrayList&lt;&gt;(doSplit());    &#125;    private static String joining(Set&lt;MessageType&gt; types) &#123;        return types.stream()                .map(Enum::name)                .collect(Collectors.joining(&quot;,&quot;));    &#125;    private Set&lt;MessageType&gt; doSplit() &#123;        final String[] split = this.type.split(&quot;,&quot;);        return Arrays.stream(split)                .map(MessageType::valueOf)                .collect(Collectors.toSet());    &#125;&#125;public enum MessageType &#123;    EMAIL, SMS, KAKAO;&#125;\n\n\nMessage of(Set types)#기본 생성자를 private 메서드로 지정했기 때문에 외부에서 해당 객체를 생성 할 수 있는 유일한 방법은 of() 메서드를 이용하는 방법뿐입니다. \n이처럼 객체 생성도 최대한 제한해서 객체를 올바르게 생성할 수 있도록 제공해야 합니다. 이로써 좋은 캡슐화가 진행되고 있습니다.\njoining(types) 메서드를 통해서 넘겨받은 Set 자료형 types를 String 객체로 변경했습니다. 실제 데이터베이스에 문자열 자료형으로 저장하게 됩니다.\npublic List getTypes()#위에서 언급한 정보 은닉 개념입니다.\n\n정보 은닉이란 말 그대로 알 필요가 없는 정보는 외부에서 접근하지 못하도록 제한하는 것이다.\n\n여기서 말하는 알 필요 없는 정보는 실제 데이터베이스에는 메시지 타입이 &quot;,&quot; 기준으로 메시지 타입을 구분하고 있다는 점입니다.\ngetTypes 리턴 타입은 List이기 때문에 외부에서는 절대 데이터베이스에 저장돼 있는 평문 문자 &quot;KAKAO,SMS,EAML&quot; 문자열을 접근할 수 없습니다.\n그것보다 더 중요한 건 데이터베이스에 어떤 형식으로 저장돼있는지 세부적인 것들은 관심 대상이 아니게 됩니다.\n내가 필요할 때 메시지 타입을 편하게 List 형식으로 가져다 사용하면 됩니다. 이것이 캡슐화라고 생각합니다.\n테스트 코드#12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public class MessageTest &#123;    @Test    public void 메시지_타입이_EMAIL_KAKAO_SMS_일경우() &#123;        final Set&lt;MessageType&gt; types = new HashSet&lt;&gt;();        types.add(MessageType.EMAIL);        types.add(MessageType.KAKAO);        types.add(MessageType.SMS);        final Message message = Message.of(types);        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));        assertThat(message.getTypes(), hasItem(MessageType.SMS));        assertThat(message.getTypes(), hasSize(3));    &#125;    @Test    public void 메시지_타입이_EMAIL_KAKAO일경우() &#123;        final Set&lt;MessageType&gt; types = new HashSet&lt;&gt;();        types.add(MessageType.EMAIL);        types.add(MessageType.KAKAO);        final Message message = Message.of(types);        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));        assertThat(message.getTypes(), not(hasItem(MessageType.SMS)));        assertThat(message.getTypes(), hasSize(2));    &#125;    @Test    public void 메시지_타입이_없을경우() &#123;        final Set&lt;MessageType&gt; types = Collections.emptySet();        final Message message = Message.of(types);        assertThat(message.getTypes(), hasSize(0));    &#125;    @Test    public void 메시지_타입이_중복되는경우() &#123;        final Set&lt;MessageType&gt; types = new HashSet&lt;&gt;();        types.add(MessageType.EMAIL);        types.add(MessageType.EMAIL);        types.add(MessageType.EMAIL);        final Message message = Message.of(types);        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));        assertThat(message.getTypes(), not(hasItem(MessageType.SMS)));        assertThat(message.getTypes(), not(hasItem(MessageType.KAKAO)));        assertThat(message.getTypes(), hasSize(1));    &#125;&#125;\n테스트 코드를 보시면 항상 올바른 데이터만 입력할 수 있고, 그것을 검증하는 것도 단순해졌고 이해하고 예측하기 쉬워졌습니다. 이런 것이 좋은 캡슐화라고 생각합니다.\n문제 해결#\n(1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다\n사용하는 곳에서 리스트를 만드는 것아 이나리 getTypes()의 리턴자료형이 List이기 때문에 사용하기 편합니다.\n\n\n(2) KAKAO를 KAOKO 라고 잘못 입력했을 경우\nenum 자료형을 사용했기 때문에 유효하지 않은 데이터를 입력할 수 없습니다.\n\n\n(3) 메시지에 KAKAO, EMAIL, SMS처럼 공백이 들어간다면 실패한다\nenum 자료형을 사용했기 때문에 공백처럼 유효하지 않은 데이터를 입력할 수 없습니다.\n\n\n(4) 메시지가 없을 때 빈 문자열(“”)을 보내면\nenum 자료형을 사용했기 때문에 공백처럼 유효하지 않은 데이터를 입력할 수 없습니다.\n\n\n(5) 메시지가 없을 때 null을 보낼 경우\n비어 있을 경우 null 아 아닌 빈 Set 객체를 넘기면 되기 때문에 null 자체를 입력하게 될 이유가 없어졌습니다.\n\n\n(6) 메시지가 중복으로올 경우 \n자료형이기 때문에 데이터가 중복으로 입력되더라도 최종적으로는 중복을 제거하게 됩니다.\n\n\n\n캡슐화를 통한 장점들#\n위에서 작성한 코드 구조상 유효하지 않은 메시지 타입을 강제로 입력하고 싶더라도 어렵습니다. \n실제 데이터베이스에 입력돼 있는 문자열을 가져올 수도 없으며, 어떤 형식으로 저장돼 있는지 관심을 가질 필요가 없게 되었습니다.\n메시지 타입이 없는 경우 컬렉션이 empty이기 때문에 보다 명확합니다.\n응집도가 높아졌습니다. 메시지에 대한 세부 로직들이 Order에서 분리되고 Message 객체에 응집해 있습니다.\n재사용성이 높아졌습니다. 만약 상품 등록이 성공했을 경우 메시지 플랫폼을 통해서 응답받고 싶다면 Product에서 Message 객체를 선언하기만 하면 됩니다.\n\n웹 환경#웹 환경에서 추가적으로 설명드리겠습니다.\nController#123456789101112131415161718@RestController@RequestMapping(&quot;/orders&quot;)public class OrderApi &#123;    private final OrderRepository orderRepository;    @PostMapping    public Order create(@RequestBody @Valid OrderRequest request) &#123;        final Order order = buildOrder(request);        return orderRepository.save(order);    &#125;&#125;@Getterpublic class OrderRequest &#123;    @NotNull    private Set&lt;MessageType&gt; messageType;&#125;\n\nRequest#\n요청은 배열으로 받게 합니다. 만약 받을 메시지가 없다면 빈 배열로 넘깁니다.\n테스트 코드#123456789101112131415161718192021222324252627282930@RunWith(SpringRunner.class)@SpringBootTest@AutoConfigureMockMvcpublic class OrderApiTest &#123;    @Autowired    private ResourceLoader resourceLoader;    @Autowired    private MockMvc mvc;        @Test    public void 정상요청() throws Exception &#123;        final String json = readJson(&quot;valid-request.json&quot;);        mvc.perform(post(&quot;/orders&quot;)                .contentType(MediaType.APPLICATION_JSON_UTF8)                .content(json))                .andDo(print())                .andExpect(status().isOk());    &#125;    @Test    public void 요청바디가_유효하지않을경우() throws Exception &#123;        final String json = readJson(&quot;invalid-request.json&quot;);        mvc.perform(post(&quot;/orders&quot;)                .contentType(MediaType.APPLICATION_JSON_UTF8)                .content(json))                .andDo(print())                .andExpect(status().isBadRequest());    &#125;&#125;\n\n정상요청#12345&#123;  &quot;messageType&quot;: [    &quot;EMAIL&quot;, &quot;SMS&quot;  ]&#125;\n모든 값이 유효합니다. 200을 응답 받습니다.\n요청바디가_유효하지않을경우#12345&#123;  &quot;messageType&quot;: [    &quot;EMAIL&quot;, &quot;KKA&quot;  ]&#125;\n유효하지 않은 값일 경우 400 응답을 받게됩니다.\n값 확인#\n배열 형식의 받을 입력 받고 응답해주지만, 실제 값은 &quot;,&quot;으로 구분하는 문자열입니다. \n다시 한번 강조하지만 외부 객체에서는 저 문자열을 가져올 수 없을 뿐만 아니라 실제 데이터베이스에 문자열로 저장돼있는지 관심조차 가질 필요가 없습니다. getTypes() 메서드로 List형으로 외부에 제공해주기만 하면 됩니다. 이것이 캡슐화의 기본적 개념이라고 생각합니다.\n","dateCreated":"2018-12-20T00:12:00+09:00","dateModified":"2025-01-31T22:45:15+09:00","datePublished":"2018-12-20T00:12:00+09:00","description":"객체지향 개념에서 캡슐화는 정말 중요한 개념이라고 생각합니다. 캡슐화를 잘 지켜야 클래스 간의 결합도를 낮추어 코드를 유지 보수하기 쉽게 합니다.","headline":"Spring OOP 프로그래밍 예제(6) - 캡슐화 내가 생각하는 캡슐화란(1)","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://cheese10yun.github.io/encapsulation-part-1/"},"publisher":{"@type":"Organization","name":"Yun","sameAs":["https://github.com/cheese10yun"],"image":"yun-icon.jpg","logo":{"@type":"ImageObject","url":"yun-icon.jpg"}},"url":"https://cheese10yun.github.io/encapsulation-part-1/","keywords":"OOP"}</script>
    <meta name="description" content="객체지향 개념에서 캡슐화는 정말 중요한 개념이라고 생각합니다. 캡슐화를 잘 지켜야 클래스 간의 결합도를 낮추어 코드를 유지 보수하기 쉽게 합니다.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Spring OOP 프로그래밍 예제(6) - 캡슐화 내가 생각하는 캡슐화란(1)">
<meta property="og:url" content="https://cheese10yun.github.io/encapsulation-part-1/index.html">
<meta property="og:site_name" content="Yun Blog">
<meta property="og:description" content="객체지향 개념에서 캡슐화는 정말 중요한 개념이라고 생각합니다. 캡슐화를 잘 지켜야 클래스 간의 결합도를 낮추어 코드를 유지 보수하기 쉽게 합니다.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://github.com/cheese10yun/blog-sample/blob/master/encapsulation/assets/swagger-message-request.png?raw=true">
<meta property="og:image" content="https://github.com/cheese10yun/blog-sample/blob/master/encapsulation/assets/string-value.png?raw=true">
<meta property="article:published_time" content="2018-12-19T15:12:00.000Z">
<meta property="article:modified_time" content="2025-01-31T13:45:15.274Z">
<meta property="article:author" content="Yun">
<meta property="article:tag" content="OOP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/cheese10yun/blog-sample/blob/master/encapsulation/assets/swagger-message-request.png?raw=true">
    
    
        
    
    
        <meta property="og:image" content="https://cheese10yun.github.io/assets/images/yun-icon.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    
    
<link rel="stylesheet" href="/assets/css/toc.css">

    
    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-90907312-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-90907312-1');
    </script>


    

    
        
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5813739623204880" crossorigin="anonymous"></script>
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Yun Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Yun</h4>
                
                    <h5 class="sidebar-profile-bio"><p>기술 블로그</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/cheese10yun"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/rss2.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Spring OOP 프로그래밍 예제(6) - 캡슐화 내가 생각하는 캡슐화란(1)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2018-12-20T00:12:00+09:00">
	
		    2018/12/20
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p><strong>해당 코드는 <a target="_blank" rel="noopener" href="https://github.com/cheese10yun/blog-sample/tree/master/encapsulation">Github</a>에 공개되어 있습니다.</strong></p>
<p>객체지향 개념에서 캡슐화는 정말 중요한 개념이라고 생각합니다. 캡슐화를 잘 지켜야 클래스 간의 결합도를 낮추어 코드를 유지 보수하기 쉽게 합니다.</p>
<p>이미 수많은 책이 이 개념에 관해서 설명하고 있습니다. 글을 읽을 때는 이해되지만 정작 캡슐화 좋은 코드를 작성하는 것은 또 다른 영역입니다.</p>
<p>저와 같은 주니어분들이 조금이라도 이해를 돕기 위해 제가 생각하는 캡슐화에 대해서 실무에서 많이 사용하는 Spring Boot, JPA 기반에서 설명해볼까 합니다.</p>
<h2><span id="kaebsyulhwayi-jeongyi">캡슐화의 정의</span><a href="#kaebsyulhwayi-jeongyi" class="header-anchor">#</a></h2><blockquote>
<p>캡슐화는 정보은닉을 통해 높은 응집도와 낮은 결합도를 갖도록 한다. 정보 은닉이란 말 그대로 알 필요가 없는 정보는 외부에서 접근하지 못하도록 제한하는 것이다.</p>
</blockquote>
<p><strong>여기서 중요한 키워드는 <code>높은 응집도</code>, <code>낮은 결합도</code>, <code>정보 은닉</code> 입니다.</strong> 핵심 키워들 기반으로 설명을 진행하겠습니다.</p>
<h2><span id="yogusahang">요구사항</span><a href="#yogusahang" class="header-anchor">#</a></h2><ul>
<li>주문을 신청할 때 배송 출발시 받을 메시지 플랫폼을 N개 선택 할 수 있다.</li>
<li>메시지 플랫폼은 KAKAO, SMS, EMAIL 등이 있다.</li>
<li>메시지 플랫폼은 지속적으로 추가 될 수 있다.</li>
</ul>
<h2><span id="kaebsyulhwaga-anjoheun-anti-paeteon">캡슐화가 안좋은 안티 패턴</span><a href="#kaebsyulhwaga-anjoheun-anti-paeteon" class="header-anchor">#</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;product&quot;)</span></span><br><span class="line"><span class="meta">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">long</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;anti_message_types&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String messageTypes;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Builder</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Order</span><span class="params">(String messageTypes)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.messageTypes = messageTypes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Order 엔티티 객체가 있습니다. </li>
<li>Order 엔티티는 주문을 완료시 메시지 플랫폼을 받을 수 있는 메시지 타입을 저장할 <code>messageTypes</code> 멤버 필드를 갖습니다.<ul>
<li><strong>데이터베이스 정규화는 생략했습니다. 저런 타입일 경우 정규화의 대상이 된다고 생각하지 않습니다. 이 부분은 크게 생각 안하시고 순수하게 캡슐화의 관점에서 설명드리겠습니다.</strong></li>
</ul>
</li>
<li>복수개의 문자열이 들어 오기 때문에 <code>&quot;,&quot;</code> 기반으로 문자열을 split 합니다.</li>
</ul>
<h3><span id="teseuteu-kodeu">테스트 코드</span><a href="#teseuteu-kodeu" class="header-anchor">#</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderUnitTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">// (1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다</span></span><br><span class="line">    <span class="comment">// 안좋은 캡슐화</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_01</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="string">&quot;KAKAO,EMAIL,SMS&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> String[] split = order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;KAKAO&quot;</span>));</span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;EMAIL&quot;</span>));</span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;SMS&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">// (2) KAKAO를 KAOKO 라고 잘못 입력했을 경우</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_02</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="string">&quot;KAOKO,EMAIL,SMS&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> String[] split = order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        assertThat(split, not(hasItemInArray(<span class="string">&quot;KAKAO&quot;</span>)));</span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;EMAIL&quot;</span>));</span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;SMS&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">// (3) 메시지에 KAKAO, EMAIL, SMS 처럼 공백이 들어 간다면 실패한다</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_03</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="string">&quot;KAKAO, EMAIL, SMS&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> String[] split = order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;KAKAO&quot;</span>));</span><br><span class="line">        assertThat(split, not(hasItemInArray(<span class="string">&quot;EMAIL&quot;</span>)));</span><br><span class="line">        assertThat(split, not(hasItemInArray(<span class="string">&quot;SMS&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">// (4) 메시지가 없을 때 빈문자열(&quot;&quot;)을 보낼 경우</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_04</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> String[] split = order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test(expected = NullPointerException.class)</span></span><br><span class="line">    <span class="comment">// (5) 메시지가 없을 때 null 을 보낼 경우</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_05</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="literal">null</span>);</span><br><span class="line">        order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="comment">// (6) 메시지가 중복으로 올경우</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">anti_message_test_06</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> build(<span class="string">&quot;KAKAO, KAKAO, KAKAO&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> String[] split = order.getMessageTypes().split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br><span class="line">        assertThat(split, hasItemInArray(<span class="string">&quot;KAKAO&quot;</span>));</span><br><span class="line">        assertThat(split.length, is(<span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="1-orderyi-getmessagetypes-meseodeureul-sayong-hal-ddae-bulpyeonhada">(1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다</span><a href="#1-orderyi-getmessagetypes-meseodeureul-sayong-hal-ddae-bulpyeonhada" class="header-anchor">#</a></h3><p>가장 쉽게 생각할 수 있는 방법입니다. 단순히 getter 메서드를 이용해서 외부 객체가 사용하게 제공합니다. 이는 캡슐화에 엄청난 악영향을 미치게 됩니다.</p>
<p>우선 <code>getMessageTypes()</code> 메서드를 사용 하는 모든 곳에서 <code>split()</code> 메서드를 이용해서 메시지 타입을 배열로 만들어서 사용해야합니다.</p>
<h3><span id="2-kakaoreul-kaoko-rago-jalmos-ibryeoghaesseul-gyeongu">(2) KAKAO를 KAOKO 라고 잘못 입력했을 경우</span><a href="#2-kakaoreul-kaoko-rago-jalmos-ibryeoghaesseul-gyeongu" class="header-anchor">#</a></h3><p>단순하게 String을 사용하기 때문에 type safe 하지 않습니다. KAKAO를 KAOKO로 잘못 입력해도 제대로 검증하기 어려우며 검증하는 로직을 추가 하더라도 해당 에러는 Runtime으로 넘어가게 됩니다. 이처럼 단순 문자열이면 이러한 단점을 갖게 됩니다.</p>
<h3><span id="3-mesijie-kakao-email-sms-ceoreom-gongbaegi-deuleo-gandamyeon-silpaehanda">(3) 메시지에 KAKAO, EMAIL, SMS 처럼 공백이 들어 간다면 실패한다</span><a href="#3-mesijie-kakao-email-sms-ceoreom-gongbaegi-deuleo-gandamyeon-silpaehanda" class="header-anchor">#</a></h3><p>일반적으로 웹 개발을 하면 대부분의 요청은 컨트롤러에서 받게 됩니다. 이 때 KAKAO, EMAIL, SMS 문자열 사이에 빈 공백이 들어오게 되면 <code>split()</code> 함수가 제대로 동작하지 않습니다. 테스트 코드를 보면 <code>EMAIL</code>, <code>SMS</code>는 <code>not(hasItemInArray..)</code> 으로 검증됩니다. </p>
<p>물론 앞뒤 공백을 자르는 로직이 추가되면 되지만 이렇게 되면 점점 로직의 복잡도가 높아지게 됩니다.</p>
<h3><span id="4-mesijiga-eobseul-ddae-binmunjayeol-eul-bonael-gyeongu">(4) 메시지가 없을 때 빈문자열(“”)을 보낼 경우</span><a href="#4-mesijiga-eobseul-ddae-binmunjayeol-eul-bonael-gyeongu" class="header-anchor">#</a></h3><p>컨트롤러 요청을 받을 때 받을 메시지 플랫폼이 없다면 <code>&quot;&quot;</code> 으로 받게 됩니다. 이 빈 공백 이라는 것이 의미하는 게 어떤 메시지 플랫폼도 선택하지 않았다는 의미로 해석되기는 어렵습니다. <strong>문자열 자체는 이러한 타입에 적합하지 않기 때문에 메시지가 없을 때 어떤 식으로 처리해야 할지 고민하게 됩니다.</strong></p>
<h3><span id="5-mesijiga-eobseul-ddae-null-eul-bonael-gyeongu">(5) 메시지가 없을 때 null 을 보낼 경우</span><a href="#5-mesijiga-eobseul-ddae-null-eul-bonael-gyeongu" class="header-anchor">#</a></h3><p>빈 공백의 의미가 정확하지 않다고 생각했을 경우 null로 요청을 받게 되면 <code>split()</code> 메서드에서 RuntimeException이 발생하게 됩니다. 물론 로직을 추가해서 null인 경우를 처리할 수 있지만, 이것은 3번에서 언급했던 것처럼 계속 코드의 복잡성이 높아지게 됩니다.</p>
<h3><span id="6-mesijiga-jungbogeuro-olgyeongu">(6) 메시지가 중복으로 올경우</span><a href="#6-mesijiga-jungbogeuro-olgyeongu" class="header-anchor">#</a></h3><p>메시지 플랫폼이 중복으로 넘어오게 될 실제 메시지가 중복으로 발송되기 때문에 로직을 추가 해야 됩니다.</p>
<h3><span id="teseuteu-kodeuyi-jungyoseong">테스트 코드의 중요성</span><a href="#teseuteu-kodeuyi-jungyoseong" class="header-anchor">#</a></h3><p>캡슐화에서 벗어난 주제이기 때문에 테스트 코드에 대한 부가적인 설명해 드리는 것이 조금은 어색하지만, 테스트 코드의 중요성을 한번 언급하고 싶었습니다.</p>
<blockquote>
<p>문제 있는 코드를 빨리 파악할 수 있다.</p>
</blockquote>
<p>해당 기능의 테스트 코드를 작성하면 이 코드의 문제점을 가장 빠르게 파악할 수 있습니다. 저는 코드가 왜 캡슐화에 안 좋은 코드인지 테스트 코드를 통해서 알게 됐습니다. 위에서 언급한 1~5 문제들을 테스트 코드 작성 시 파악했고 리팩토링 작업을 진행했습니다.</p>
<p><strong>테스트 코드는 냄세나는 코드를 빠르게 찾게 해줍니다. 이것도 테스트 코드의 엄청난 장점이라고 생각합니다.</strong></p>
<h2><span id="joheun-kaebsyulhwa-paeteon">좋은 캡슐화 패턴</span><a href="#joheun-kaebsyulhwa-paeteon" class="header-anchor">#</a></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Embedded</span></span><br><span class="line">    <span class="keyword">private</span> Message message;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Embeddable</span></span><br><span class="line"><span class="meta">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Message</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(name = &quot;message_type&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Message</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = StringUtils.isEmpty(type) ? <span class="literal">null</span> : type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Message <span class="title function_">of</span><span class="params">(Set&lt;MessageType&gt; types)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Message</span>(joining(types));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;MessageType&gt; <span class="title function_">getTypes</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isEmpty(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(doSplit());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">joining</span><span class="params">(Set&lt;MessageType&gt; types)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> types.stream()</span><br><span class="line">                .map(Enum::name)</span><br><span class="line">                .collect(Collectors.joining(<span class="string">&quot;,&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Set&lt;MessageType&gt; <span class="title function_">doSplit</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> String[] split = <span class="built_in">this</span>.type.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Arrays.stream(split)</span><br><span class="line">                .map(MessageType::valueOf)</span><br><span class="line">                .collect(Collectors.toSet());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">MessageType</span> &#123;</span><br><span class="line">    EMAIL, SMS, KAKAO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3><span id="message-of-set-types">Message of(Set<messagetype> types)</messagetype></span><a href="#message-of-set-types" class="header-anchor">#</a></h3><p>기본 생성자를 private 메서드로 지정했기 때문에 외부에서 해당 객체를 생성 할 수 있는 유일한 방법은 <code>of()</code> 메서드를 이용하는 방법뿐입니다. </p>
<p>이처럼 객체 생성도 최대한 제한해서 객체를 올바르게 생성할 수 있도록 제공해야 합니다. 이로써 좋은 캡슐화가 진행되고 있습니다.</p>
<p>joining(types) 메서드를 통해서 넘겨받은 Set 자료형 types를 String 객체로 변경했습니다. 실제 데이터베이스에 문자열 자료형으로 저장하게 됩니다.</p>
<h3><span id="public-list-gettypes">public List<messagetype> getTypes()</messagetype></span><a href="#public-list-gettypes" class="header-anchor">#</a></h3><p>위에서 언급한 정보 은닉 개념입니다.</p>
<blockquote>
<p>정보 은닉이란 말 그대로 알 필요가 없는 정보는 외부에서 접근하지 못하도록 제한하는 것이다.</p>
</blockquote>
<p>여기서 말하는 알 필요 없는 정보는 실제 데이터베이스에는 메시지 타입이 <code>&quot;,&quot;</code> 기준으로 메시지 타입을 구분하고 있다는 점입니다.</p>
<p>getTypes 리턴 타입은 List이기 때문에 외부에서는 절대 데이터베이스에 저장돼 있는 평문 문자 <code>&quot;KAKAO,SMS,EAML&quot;</code> 문자열을 접근할 수 없습니다.</p>
<p><strong>그것보다 더 중요한 건 데이터베이스에 어떤 형식으로 저장돼있는지 세부적인 것들은 관심 대상이 아니게 됩니다.</strong></p>
<p>내가 필요할 때 메시지 타입을 편하게 List 형식으로 가져다 사용하면 됩니다. 이것이 캡슐화라고 생각합니다.</p>
<h3><span id="teseuteu-kodeu">테스트 코드</span><a href="#teseuteu-kodeu" class="header-anchor">#</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MessageTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 메시지_타입이_EMAIL_KAKAO_SMS_일경우() &#123;</span><br><span class="line">        <span class="keyword">final</span> Set&lt;MessageType&gt; types = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        types.add(MessageType.EMAIL);</span><br><span class="line">        types.add(MessageType.KAKAO);</span><br><span class="line">        types.add(MessageType.SMS);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.of(types);</span><br><span class="line"></span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));</span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));</span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));</span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.SMS));</span><br><span class="line">        assertThat(message.getTypes(), hasSize(<span class="number">3</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 메시지_타입이_EMAIL_KAKAO일경우() &#123;</span><br><span class="line">        <span class="keyword">final</span> Set&lt;MessageType&gt; types = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        types.add(MessageType.EMAIL);</span><br><span class="line">        types.add(MessageType.KAKAO);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.of(types);</span><br><span class="line"></span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));</span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.KAKAO));</span><br><span class="line">        assertThat(message.getTypes(), not(hasItem(MessageType.SMS)));</span><br><span class="line">        assertThat(message.getTypes(), hasSize(<span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 메시지_타입이_없을경우() &#123;</span><br><span class="line">        <span class="keyword">final</span> Set&lt;MessageType&gt; types = Collections.emptySet();</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.of(types);</span><br><span class="line"></span><br><span class="line">        assertThat(message.getTypes(), hasSize(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 메시지_타입이_중복되는경우() &#123;</span><br><span class="line">        <span class="keyword">final</span> Set&lt;MessageType&gt; types = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        types.add(MessageType.EMAIL);</span><br><span class="line">        types.add(MessageType.EMAIL);</span><br><span class="line">        types.add(MessageType.EMAIL);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> <span class="type">Message</span> <span class="variable">message</span> <span class="operator">=</span> Message.of(types);</span><br><span class="line"></span><br><span class="line">        assertThat(message.getTypes(), hasItem(MessageType.EMAIL));</span><br><span class="line">        assertThat(message.getTypes(), not(hasItem(MessageType.SMS)));</span><br><span class="line">        assertThat(message.getTypes(), not(hasItem(MessageType.KAKAO)));</span><br><span class="line">        assertThat(message.getTypes(), hasSize(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>테스트 코드를 보시면 항상 올바른 데이터만 입력할 수 있고, 그것을 검증하는 것도 단순해졌고 이해하고 예측하기 쉬워졌습니다. 이런 것이 좋은 캡슐화라고 생각합니다.</p>
<h3><span id="munje-haegyeol">문제 해결</span><a href="#munje-haegyeol" class="header-anchor">#</a></h3><ul>
<li>(1) Order의 getMessageTypes 메서드를 사용 할 때 불편하다<ul>
<li>사용하는 곳에서 리스트를 만드는 것아 이나리 getTypes()의 리턴자료형이 List이기 때문에 사용하기 편합니다.</li>
</ul>
</li>
<li>(2) KAKAO를 KAOKO 라고 잘못 입력했을 경우<ul>
<li>enum 자료형을 사용했기 때문에 유효하지 않은 데이터를 입력할 수 없습니다.</li>
</ul>
</li>
<li>(3) 메시지에 KAKAO, EMAIL, SMS처럼 공백이 들어간다면 실패한다<ul>
<li>enum 자료형을 사용했기 때문에 공백처럼 유효하지 않은 데이터를 입력할 수 없습니다.</li>
</ul>
</li>
<li>(4) 메시지가 없을 때 빈 문자열(“”)을 보내면<ul>
<li>enum 자료형을 사용했기 때문에 공백처럼 유효하지 않은 데이터를 입력할 수 없습니다.</li>
</ul>
</li>
<li>(5) 메시지가 없을 때 null을 보낼 경우<ul>
<li>비어 있을 경우 null 아 아닌 빈 Set 객체를 넘기면 되기 때문에 null 자체를 입력하게 될 이유가 없어졌습니다.</li>
</ul>
</li>
<li>(6) 메시지가 중복으로올 경우 <ul>
<li>자료형이기 때문에 데이터가 중복으로 입력되더라도 최종적으로는 중복을 제거하게 됩니다.</li>
</ul>
</li>
</ul>
<h3><span id="kaebsyulhwareul-tonghan-jangjeomdeul">캡슐화를 통한 장점들</span><a href="#kaebsyulhwareul-tonghan-jangjeomdeul" class="header-anchor">#</a></h3><ul>
<li>위에서 작성한 코드 구조상 유효하지 않은 메시지 타입을 강제로 입력하고 싶더라도 어렵습니다. </li>
<li>실제 데이터베이스에 입력돼 있는 문자열을 가져올 수도 없으며, <strong>어떤 형식으로 저장돼 있는지 관심을 가질 필요가 없게 되었습니다.</strong></li>
<li>메시지 타입이 없는 경우 컬렉션이 empty이기 때문에 보다 명확합니다.</li>
<li>응집도가 높아졌습니다. 메시지에 대한 세부 로직들이 Order에서 분리되고 Message 객체에 응집해 있습니다.</li>
<li>재사용성이 높아졌습니다. 만약 상품 등록이 성공했을 경우 메시지 플랫폼을 통해서 응답받고 싶다면 Product에서 Message 객체를 선언하기만 하면 됩니다.</li>
</ul>
<h2><span id="web-hwangyeong">웹 환경</span><a href="#web-hwangyeong" class="header-anchor">#</a></h2><p>웹 환경에서 추가적으로 설명드리겠습니다.</p>
<h3><span id="controller">Controller</span><a href="#controller" class="header-anchor">#</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/orders&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderApi</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> OrderRepository orderRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> Order <span class="title function_">create</span><span class="params">(<span class="meta">@RequestBody</span> <span class="meta">@Valid</span> OrderRequest request)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> buildOrder(request);</span><br><span class="line">        <span class="keyword">return</span> orderRepository.save(order);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderRequest</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;MessageType&gt; messageType;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="request">Request</span><a href="#request" class="header-anchor">#</a></h3><p><img src="https://github.com/cheese10yun/blog-sample/blob/master/encapsulation/assets/swagger-message-request.png?raw=true"></p>
<p>요청은 배열으로 받게 합니다. 만약 받을 메시지가 없다면 빈 배열로 넘깁니다.</p>
<h3><span id="teseuteu-kodeu">테스트 코드</span><a href="#teseuteu-kodeu" class="header-anchor">#</a></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="meta">@AutoConfigureMockMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderApiTest</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ResourceLoader resourceLoader;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MockMvc mvc;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 정상요청() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> readJson(<span class="string">&quot;valid-request.json&quot;</span>);</span><br><span class="line">        mvc.perform(post(<span class="string">&quot;/orders&quot;</span>)</span><br><span class="line">                .contentType(MediaType.APPLICATION_JSON_UTF8)</span><br><span class="line">                .content(json))</span><br><span class="line">                .andDo(print())</span><br><span class="line">                .andExpect(status().isOk());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> 요청바디가_유효하지않을경우() <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> readJson(<span class="string">&quot;invalid-request.json&quot;</span>);</span><br><span class="line">        mvc.perform(post(<span class="string">&quot;/orders&quot;</span>)</span><br><span class="line">                .contentType(MediaType.APPLICATION_JSON_UTF8)</span><br><span class="line">                .content(json))</span><br><span class="line">                .andDo(print())</span><br><span class="line">                .andExpect(status().isBadRequest());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3><span id="jeongsangyoceong">정상요청</span><a href="#jeongsangyoceong" class="header-anchor">#</a></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;messageType&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;EMAIL&quot;</span><span class="punctuation">,</span> <span class="string">&quot;SMS&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>모든 값이 유효합니다. 200을 응답 받습니다.</p>
<h3><span id="yoceongbadiga-yuhyohajianheulgyeongu">요청바디가_유효하지않을경우</span><a href="#yoceongbadiga-yuhyohajianheulgyeongu" class="header-anchor">#</a></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;messageType&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;EMAIL&quot;</span><span class="punctuation">,</span> <span class="string">&quot;KKA&quot;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>유효하지 않은 값일 경우 400 응답을 받게됩니다.</p>
<h3><span id="gabs-hwagin">값 확인</span><a href="#gabs-hwagin" class="header-anchor">#</a></h3><p><img src="https://github.com/cheese10yun/blog-sample/blob/master/encapsulation/assets/string-value.png?raw=true"></p>
<p>배열 형식의 받을 입력 받고 응답해주지만, 실제 값은 <code>&quot;,&quot;</code>으로 구분하는 문자열입니다. </p>
<p><strong>다시 한번 강조하지만 외부 객체에서는 저 문자열을 가져올 수 없을 뿐만 아니라 실제 데이터베이스에 문자열로 저장돼있는지 관심조차 가질 필요가 없습니다. <code>getTypes()</code> 메서드로 List형으로 외부에 제공해주기만 하면 됩니다.</strong> 이것이 캡슐화의 기본적 개념이라고 생각합니다.</p>

            


        </div>
    </div>
    <!-- Table of Contents -->
    <div id="toc-container">
        <div class="toc-title">목차</div>
        <ul id="toc-list"></ul>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/OOP/" rel="tag">OOP</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/lombok-config/"
                    data-tooltip="실무에서 Lombok 사용법 - lombok.config"
                    aria-label="이전: 실무에서 Lombok 사용법 - lombok.config"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/lombok/"
                    data-tooltip="실무에서 Lombok 사용법"
                    aria-label="다음: 실무에서 Lombok 사용법"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/encapsulation-part-1/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/encapsulation-part-1/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        

                
                    <!--  utteranc comment -->

<script src="https://utteranc.es/client.js"
        repo="cheese10yun/blog-comment"
        issue-term="title"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

                

            
        
    </div>
</article>


                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2026 Yun. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/lombok-config/"
                    data-tooltip="실무에서 Lombok 사용법 - lombok.config"
                    aria-label="이전: 실무에서 Lombok 사용법 - lombok.config"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/lombok/"
                    data-tooltip="실무에서 Lombok 사용법"
                    aria-label="다음: 실무에서 Lombok 사용법"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/encapsulation-part-1/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/encapsulation-part-1/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://cheese10yun.github.io/encapsulation-part-1/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://cheese10yun.github.io/encapsulation-part-1/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/yun-icon.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Yun</h4>
        
            <div id="about-card-bio"><p>기술 블로그</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>



<script src="/assets/js/toc.js"></script>


<!--SCRIPTS END-->


    




    </body>
</html>
